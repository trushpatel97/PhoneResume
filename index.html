<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPhone Portfolio</title>
    <!-- Base and Layout Styles -->
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/iphone.css">
    <link rel="stylesheet" href="styles/home.css">
    <!-- App Specific Styles -->
    <link rel="stylesheet" href="styles/safari.css">
    <link rel="stylesheet" href="styles/mail.css">
    <link rel="stylesheet" href="styles/messages.css">
    <link rel="stylesheet" href="styles/about.css">
    <link rel="stylesheet" href="styles/skills.css">
    <link rel="stylesheet" href="styles/projects.css">
    <link rel="stylesheet" href="styles/experience.css">
    <link rel="stylesheet" href="styles/education.css">
    <!-- 2048 Game Styles -->
    <link rel="stylesheet" href="styles/2048.css">
    <!-- Responsive Styles -->
    <link rel="stylesheet" href="styles/responsive.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- 2048 Game Script -->
    <script src="scripts/leaderboard.js"></script>
    <script src="scripts/2048.js"></script>
    <script type="text/javascript">
        (function() {
            // To make this work:
            // 1. Create a free account at emailjs.com
            // 2. Set up an email service (e.g., Gmail)
            // 3. Create an email template with parameters: to_email, from_email, subject, message
            // 4. Replace 'YOUR_USER_ID' with your EmailJS user ID
            // 5. Replace 'default_service' and 'template_id' in script.js with your service and template IDs
            emailjs.init("cGEJxQ5ttlJBEJcte");
        })();
    </script>
    
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>
    
    <!-- Mammoth.js for Word document preview -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    
    <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDiptAEF_Y6ptGYkiAf1jeEkyy5J72w22g",
            authDomain: "trushresume.firebaseapp.com",
            projectId: "trushresume",
            storageBucket: "trushresume.firebasestorage.app",
            messagingSenderId: "504357252195",
            appId: "1:504357252195:web:9519b10c4efc88185cdc56",
            measurementId: "G-9VL9JPE4KW"
        };
        
        // Initialize Firebase - make sure this executes correctly
        try {
            firebase.initializeApp(firebaseConfig);
            console.log("Firebase initialized successfully");
            
            // Verify Firestore is accessible
            const db = firebase.firestore();
            console.log("Firestore accessed successfully");
        } catch (error) {
            console.error("Firebase initialization error:", error);
        }
    </script>
    
    <!-- Removed background dependencies -->
</head>
<body>
    <!-- Vanta.js background div -->
    <div id="vanta-background"></div>
    
    <!-- Background shapes -->
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    
    <div class="container">
        <div class="iphone-container">
            <div class="iphone">
                <div class="camera-ring"></div>
                <div class="iphone-screen" style="background-image: url('styles/wallpaper.png'); background-size: cover; background-position: center; background-repeat: no-repeat;">
                    <div class="status-bar">
                        <div class="time">12:00</div>
                        <div class="status-icons">
                            <i class="fas fa-signal"></i>
                            <i class="fas fa-wifi"></i>
                            <i class="fas fa-battery-full"></i>
                        </div>
                    </div>
                    
                    <div class="home-screen" id="home-screen">
                        <div class="app-grid">
                            <div class="app" data-app="about">
                                <div class="app-icon" style="background-color: #5D9CEC;">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="app-name">About Me</div>
                            </div>
                            
                            <div class="app" data-app="skills">
                                <div class="app-icon" style="background-color: #48CFAD;">
                                    <i class="fas fa-code"></i>
                                </div>
                                <div class="app-name">Skills</div>
                            </div>
                            
                            <div class="app folder-app" data-app="projects">
                                <div class="app-icon folder-icon">
                                    <div class="folder-grid">
                                        <div class="mini-app" style="background-image: url('images/VetDatabase.jpg'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-image: url('images/ChalkboardLogo.png'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-image: url('images/StorySpinner.jpg'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-image: url('images/Mousetrap.JPEG'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-image: url('images/Celebrity.jpg'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-image: url('images/Eyes.jpg'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-image: url('images/UPS.jpg'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-image: url('images/GCP.jpg'); background-size: cover; background-position: center;"></div>
                                        <div class="mini-app" style="background-color: transparent;"></div>
                                    </div>
                                </div>
                                <div class="app-name">Projects</div>
                            </div>
                            
                            <div class="app" data-app="experience">
                                <div class="app-icon" style="background-color: #FFCE54;">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <div class="app-name">Experience</div>
                            </div>
                            
                            <div class="app" data-app="education">
                                <div class="app-icon" style="background-color: #FC6E51;">
                                    <i class="fas fa-graduation-cap"></i>
                                </div>
                                <div class="app-name">Education</div>
                            </div>
                        </div>
                        
                        <div class="dock">
                            <div class="app" data-app="game2048">
                                <div class="app-icon" style="background-color: #FF9500;">
                                    <i class="fas fa-gamepad"></i>
                                </div>
                            </div>
                            
                            <div class="app" data-app="messages">
                                <div class="app-icon" style="background-color: #5BC236;">
                                    <i class="fas fa-comment-dots" style="color: white; font-size: 22px;"></i>
                                </div>
                            </div>
                            
                            <div class="app" data-app="mail">
                                <div class="app-icon" style="background-color: #D44638;">
                                    <i class="fas fa-envelope" style="color: white; font-size: 22px;"></i>
                                </div>
                            </div>
                            
                            <div class="app" data-app="safari">
                                <div class="app-icon" style="background-color: #1C92F4;">
                                    <i class="fas fa-compass" style="color: white; font-size: 22px;"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- App Screens -->
                    <div class="app-screen" id="about-app">
                        <div class="app-header">
                            <div class="back-button" id="back-button"><i class="fas fa-chevron-left"></i></div>
                            <div class="app-title">About Me</div>
                        </div>
                        <div class="app-content" style="overflow-y: auto; padding: 0; height: calc(100% - 44px);">
                            <div class="about-container" style="padding: 16px 16px;">
                                <!-- Profile Header -->
                                <div class="profile-header" style="width: 100%; text-align: center; margin-bottom: 16px;">
                                    <h1 class="about-name" style="font-size: 32px; font-weight: 600; margin-bottom: 8px; color: #000;">Trush Patel</h1>
                                    <div class="about-title" style="font-size: 20px; color: #007AFF; margin-bottom: 8px;">Software Engineer</div>
                                    <div class="about-location" style="color: #666; display: flex; align-items: center; justify-content: center; gap: 4px;">
                                        <i class="fas fa-map-marker-alt" style="font-size: 15px;"></i>
                                        <span style="font-size: 15px;">Hatfield, PA</span>
                                    </div>
                                </div>
                                
                                <!-- Quick Stats -->
                                <div class="stats-container" style="width: 100%; display: flex; justify-content: center; margin-bottom: 16px; background: #F2F2F7; padding: 12px; border-radius: 16px;">
                                    <div class="stat-item" style="flex: 1; text-align: center;">
                                        <div class="stat-value" style="font-size: 17px; font-weight: 600; color: #007AFF;">3+ Years</div>
                                        <div class="stat-label" style="font-size: 13px; color: #666; margin-top: 2px;">Experience</div>
                                    </div>
                                    <div class="stat-item" style="flex: 1; text-align: center; border-left: 1px solid #E5E5EA; border-right: 1px solid #E5E5EA;">
                                        <div class="stat-value" style="font-size: 17px; font-weight: 600; color: #007AFF;">GCP</div>
                                        <div class="stat-label" style="font-size: 13px; color: #666; margin-top: 2px;">Certified</div>
                                    </div>
                                    <div class="stat-item" style="flex: 1; text-align: center;">
                                        <div class="stat-value" style="font-size: 17px; font-weight: 600; color: #007AFF;">8+</div>
                                        <div class="stat-label" style="font-size: 13px; color: #666; margin-top: 2px;">Projects</div>
                                    </div>
                                </div>

                                <!-- About Section -->
                                <div class="about-section" style="background: #F2F2F7; padding: 16px; border-radius: 16px; margin-bottom: 16px;">
                                    <h2 style="font-size: 20px; font-weight: 600; color: #000; margin-bottom: 16px; text-align: center;">About Me</h2>
                                    <p style="font-size: 13.5px; line-height: 1.2; color: #333; margin: 0 0 4px 0;text-indent: 25px;">
                                        Passionate about AI since 2019, I have built projects in machine learning, deep learning, and natural language processing. While working as a consultant for UPS through TCS, I developed an AI-based system to automate email responses, streamlining communication and increasing efficiency. 
                                    </p>
                                    <p style="font-size: 13.5px; line-height: 1.2; color: #333; margin: 0;text-indent: 25px;">
                                        I also have experience working with large-scale business data on cloud platforms, and validated billions of data through automation. My work combines technical expertise with real-world applications to drive meaningful results across industries.
                                    </p> 
                                </div>

                                <!-- Additional Content (scrollable) -->
                                <div class="additional-content" style="margin-top: 16px;">
                                    <!-- Expertise Section -->
                                    <div class="about-section" style="background: #F2F2F7; padding: 16px; border-radius: 16px; margin-bottom: 16px;">
                                        <h2 style="font-size: 20px; font-weight: 600; color: #000; margin-bottom: 16px; text-align: center;">Core Expertise</h2>
                                        <ul style="list-style: none; padding: 0; margin: 0;">
                                            <li style="display: flex; align-items: flex-start; margin-bottom: 12px;">
                                                <i class="fas fa-brain" style="color: #007AFF; width: 20px; font-size: 15px; margin-top: 4px;"></i>
                                                <div style="margin-left: 8px;">
                                                    <span style="font-size: 15px; color: #000;"><strong>AI & ML:</strong> Deep Learning, NLP, Email Automation</span>
                                                </div>
                                            </li>
                                            <li style="display: flex; align-items: flex-start; margin-bottom: 12px;">
                                                <i class="fas fa-cloud" style="color: #007AFF; width: 20px; font-size: 15px; margin-top: 4px;"></i>
                                                <div style="margin-left: 8px;">
                                                    <span style="font-size: 15px; color: #000;"><strong>Cloud & Data:</strong> GCP Certified, Large-scale Data Validation</span>
                                                </div>
                                            </li>
                                            <li style="display: flex; align-items: flex-start;">
                                                <i class="fas fa-code" style="color: #007AFF; width: 20px; font-size: 15px; margin-top: 4px;"></i>
                                                <div style="margin-left: 8px;">
                                                    <span style="font-size: 15px; color: #000;"><strong>Development:</strong> Python, JavaScript, Java, C, C++</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>

                                    <!-- Current Focus -->
                                    <div class="about-section" style="background: #F2F2F7; padding: 16px; border-radius: 16px;">
                                        <h2 style="font-size: 20px; font-weight: 600; color: #000; margin-bottom: 16px; text-align: center;">Current Focus</h2>
                                        <p style="font-size: 13px; line-height: 1.6; color: #333; margin: 0; text-indent: 25px;">
                                            I'm seeking opportunities to leverage my AI and automation expertise in enterprise solutions. I'm particularly interested in roles that allow me to apply machine learning and deep learning to solve complex business challenges. In the meantime, I'm working on a mobile app to help supply homeless people with items they need.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <div class="app-screen" id="skills-app">
                        <div class="app-header">
                            <div class="back-button" id="back-button"><i class="fas fa-chevron-left"></i></div>
                            <div class="app-title">Skills</div>
                        </div>
                        <div class="app-content">
                            <div class="skills-container">
                                <div class="skill-category">
                                    <h3>Programming Languages</h3>
                                    <div class="skills-grid">
                                        <div class="skill-item">Python</div>
                                        <div class="skill-item">JavaScript</div>
                                        <div class="skill-item">Java</div>
                                        <div class="skill-item">C/C++</div>
                                        <div class="skill-item">MATLAB</div>
                                        <div class="skill-item">HTML</div>
                                        <div class="skill-item">CSS</div>
                                    </div>
                                </div>

                                <div class="skill-category">
                                    <h3>Databases</h3>
                                    <div class="skills-grid">
                                        <div class="skill-item">PostgreSQL</div>
                                    </div>
                                </div>

                                <div class="skill-category">
                                    <h3>Frameworks</h3>
                                    <div class="skills-grid">
                                        <div class="skill-item">React</div>
                                        <div class="skill-item">Knex.js</div>
                                        <div class="skill-item">Flask</div>
                                        <div class="skill-item">Django</div>
                                    </div>
                                </div>

                                <div class="skill-category">
                                    <h3>Machine Learning</h3>
                                    <div class="skills-grid">
                                        <div class="skill-item">TensorFlow</div>
                                        <div class="skill-item">NumPy</div>
                                        <div class="skill-item">Matplotlib</div>
                                        <div class="skill-item">Pandas</div>
                                        <div class="skill-item">Scikit-learn</div>
                                        <div class="skill-item">OpenAI</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <div class="app-screen" id="projects-app">
                        <div class="app-header">
                            <div class="back-button" id="back-button"><i class="fas fa-chevron-left"></i></div>
                            <div class="app-title">Projects</div>
                        </div>
                        <div class="app-content projects-folder">
                            <div class="folder-title">Projects</div>
                            <div class="folder-grid-container">
                                <div class="folder-app" data-project="vet">
                                    <div class="folder-app-icon" style="background-image: url('images/VetDatabase.jpg'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">Vet Database</div>
                                </div>
                                <div class="folder-app" data-project="chalkboard">
                                    <div class="folder-app-icon" style="background-image: url('images/ChalkboardLogo.png'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">Chalkboard</div>
                                </div>
                                <div class="folder-app" data-project="story">
                                    <div class="folder-app-icon" style="background-image: url('images/StorySpinner.jpg'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">Story Spinner</div>
                                </div>
                                <div class="folder-app" data-project="mousetrap">
                                    <div class="folder-app-icon" style="background-image: url('images/Mousetrap.JPEG'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">Moustrap</div>
                                </div>
                                <div class="folder-app" data-project="celebrity">
                                    <div class="folder-app-icon" style="background-image: url('images/Celebrity.jpg'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">Celebrity Look-alike</div>
                                </div>
                                <div class="folder-app" data-project="eye">
                                    <div class="folder-app-icon" style="background-image: url('images/Eyes.jpg'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">Eye Disease</div>
                                    <a href="https://github.com/trushpatel97/Eye-Disease-Detection" target="_blank" class="project-link" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 1;"></a>
                                </div>
                                <div class="folder-app" data-project="tracking">
                                    <div class="folder-app-icon" style="background-image: url('images/UPS.jpg'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">Package Tracking</div>
                                </div>
                                <div class="folder-app" data-project="bigdata">
                                    <div class="folder-app-icon" style="background-image: url('images/GCP.jpg'); background-size: cover; background-position: center;">
                                    </div>
                                    <div class="folder-app-name">BigData</div>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <div class="app-screen" id="experience-app">
                        <div class="app-header">
                            <div class="back-button" id="back-button"><i class="fas fa-chevron-left"></i></div>
                            <div class="app-title">Experience</div>
                        </div>
                        <div class="app-content">
                            <div class="experience-list">
                                <div class="experience-item">
                                    <div class="experience-header">
                                        <span class="date">2020 - Present</span>
                                    </div>
                                    <h3>Full Stack Developer</h3>
                                    <h4>Tech Solutions Inc.</h4>
                                    <p>Leading frontend development for enterprise applications, mentoring junior developers, and implementing best practices.</p>
                                </div>
                                <div class="experience-item">
                                    <div class="experience-date">2019 - 2021</div>
                                    <h3>Full Stack Developer</h3>
                                    <h4>Digital Innovations Co.</h4>
                                    <p>Developed multiple web applications using React, Node.js, and MongoDB with a focus on responsive design and performance.</p>
                                </div>
                                <div class="experience-item">
                                    <div class="experience-date">2017 - 2019</div>
                                    <h3>Junior Web Developer</h3>
                                    <h4>Webcraft Studios</h4>
                                    <p>Built responsive websites for clients using HTML, CSS, JavaScript, and WordPress.</p>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <div class="app-screen" id="education-app">
                        <div class="app-header">
                            <div class="back-button" id="back-button"><i class="fas fa-chevron-left"></i></div>
                            <div class="app-title">Education</div>
                        </div>
                        <div class="app-content">
                            <div class="education-list">
                                <div class="education-item">
                                    <div class="education-header">
                                        <span class="university-name">Temple University</span>
                                        <span class="graduation-date">2020</span>
                                    </div>
                                    <div class="degree">Bachelor of Computer Science</div>
                                    
                                    <div class="education-header" style="margin-top: 10px;padding-top: 10px ;">
                                        <span class="university-name">Certifications</span>
                                    </div>
                                    <div class="degree">Google Cloud Associate Cloud Engineer</div>
                                </div>
                                
                                <div class="section-title">Achievements</div>
                                <div class="education-item achievements-section">
                                    <div class="achievement-item">
                                        <div class="achievement-title symposium-link" style="cursor: pointer; color: #007AFF; text-decoration: underline;" onclick="openPDFPopup()">Temple University's Symposium</div>
                                        <p>Selected and presented <i>Chalkboard</i> at the 2021 Temple University Symposium</p>
                                    </div>
                                    <div class="achievement-item">
                                        <div class="achievement-title" style="cursor: pointer; color: #007AFF; text-decoration: underline;">
                                            <a href="https://github.com/trushpatel97/Eye-Disease-Detection" target="_blank" style="color: inherit; text-decoration: inherit;">Eye Disease Detection Research</a>
                                        </div>
                                        <p>Built a neural network model with 97.9% accuracy to classify retinal diseases, improving early diagnosis</p>
                                    </div>
                                </div>

                                <div class="section-title">Courses</div>
                                <div class="education-item courses-section">
                                    <!-- Computer Science Category -->
                                    <div class="course-category">Computer Science</div>
                                    <div class="course-item" onclick="showTopics('os')">
                                        <div class="course-title">Operating Systems</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('datastructures')">
                                        <div class="course-title">Data Structures</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('softwaredesign')">
                                        <div class="course-title">Software Design</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('mobile')">
                                        <div class="course-title">Mobile Development</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('mobilesecurity')">
                                        <div class="course-title">Security in Mobile and Embedded Systems</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('wireless')">
                                        <div class="course-title">Wireless Networks and Security</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('projects')">
                                        <div class="course-title">Projects in Computer Science</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('lowlevel')">
                                        <div class="course-title">Comp Sys & Low-Level Program</div>
                                    </div>

                                    <!-- Mathematics Category -->
                                    <div class="course-category">Mathematics</div>
                                    <div class="course-item" onclick="showTopics('calculus')">
                                        <div class="course-title">Calculus I,II,III</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('probstat')">
                                        <div class="course-title">Computational Prob & Stat</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('mathcomp1')">
                                        <div class="course-title">Math Concepts in Computing I</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('mathcomp2')">
                                        <div class="course-title">Math Concepts in Computing II</div>
                                    </div>

                                    <!-- Physics Category -->
                                    <div class="course-category">Physics</div>
                                    <div class="course-item" onclick="showTopics('physics1')">
                                        <div class="course-title">Elementary Classical Phys I</div>
                                    </div>
                                    <div class="course-item" onclick="showTopics('physics2')">
                                        <div class="course-title">Elementary Classical Phys II</div>
                                    </div>
                                </div>

                                <!-- Add Topics Popup Structure -->
                                <div class="topics-popup">
                                    <div class="topics-content">
                                        <div class="topics-header">
                                            <h3 class="topics-popup-title"></h3>
                                            <button class="topics-close">&times;</button>
                                        </div>
                                        <div class="topics-list">
                                            <!-- Topics will be dynamically inserted here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <div class="app-screen" id="safari-app">
                        <div class="app-header safari-header">
                            <div class="app-title"></div>
                        </div>
                        <div class="app-content safari-content">
                            <!-- Google Search Home View -->
                            <div class="google-search-container" id="google-home-view">
                                <div class="google-logo">
                                    <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" alt="Google">
                                </div>
                                <form class="safari-search google-search-bar" onsubmit="event.preventDefault(); performSearch(document.getElementById('safari-search-input').value);">
                                    <input type="text" placeholder="Search Google" id="safari-search-input">
                                </form>
                            </div>
                            
                            <!-- Search Results View (hidden by default) -->
                            <div class="search-results-container" id="search-results-view" style="display:none;">
                                <div class="search-results-header">
                                    <form class="safari-search google-search-bar results-search-bar" onsubmit="event.preventDefault(); performSearch(document.getElementById('results-search-input').value);">
                                        <i class="fas fa-search"></i>
                                        <input type="text" id="results-search-input">
                                        <button type="submit" class="search-submit-btn">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </form>
                                </div>
                                <div class="search-results-content" id="search-results-content">
                                    <!-- Results will be populated here -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Direct inline bar with bounce effect -->
                        <div style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                        
                        <div id="safari-bottom-bar" onclick="goToHomeScreen()"></div>
                        <div class="safari-home-back-bar" onclick="goToHomeScreen()" style="display: none;"></div>
                    </div>
                    
                    <!-- Mail App -->
                    <div class="app-screen" id="mail-app">
                        <div class="app-header">
                            <div class="back-button" id="back-button"><i class="fas fa-chevron-left"></i></div>
                            <div class="app-title">New Message</div>
                        </div>
                        <div class="app-content mail-content">
                            <div class="mail-compose">
                                <div class="mail-field">
                                    <div class="mail-label"><span style="font-size: 12px; color: #0000007d;">To</span><span style="color: #000000; font-size: 12px; padding-left: 10px;">trushpatel097@gmail.com</span></div>
                                </div>
                                <hr style="height: 1px; background-color: rgba(0, 0, 0, 0.15); width: 100%; position: relative; border: none; margin: 15px 0;">
                                <div class="mail-field">
                                    <div class="mail-label" style="min-width: 30px;"><span style="font-size: 12px; color: #0000007d;">From</span></div>
                                    <input type="text" class="mail-input" id="mail-from" placeholder="Enter your email" style="border: none; outline: none; font-size: 12px; flex: 1; padding-left: 8px;">
                                </div>
                                <hr style="height: 1px; background-color: rgba(0, 0, 0, 0.15); width: 100%; position: relative; border: none; margin: 15px 0;">
                                <div class="mail-field">
                                    <input type="text" class="mail-input" id="mail-subject" placeholder="Subject" style="border: none; outline: none;font-size: 12px;">
                                </div>
                                <hr style="height: 1px; background-color: rgba(0, 0, 0, 0.15); width: 100%; position: relative; border: none; margin: 15px 0;">
                                <div class="mail-field compose-field">
                                    <textarea id="mail-body" placeholder="Compose email" style="border: none; outline: none; font-size: 13px; resize: none; height: 200px; width: 100%; box-sizing: border-box;"></textarea>
                                </div>
                                <hr style="height: 1px; background-color: rgba(0, 0, 0, 0.15); width: 100%; position: relative; border: none; margin: 15px 0;">
                                <div class="mail-actions">
                                    <button id="test-emailjs-btn" onclick="testEmailJS()" style="background-color: #007aff; color: white; padding: 8px 16px; border: none; border-radius: 6px; font-size: 14px; font-weight: 600; cursor: pointer;">Send</button>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <!-- Messages App -->
                    <div class="app-screen" id="messages-app">
                        <div class="messages-app">
                            <div class="messages-header">
                                <div class="messages-header-left">
                                    <div class="contact-avatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="contact-name">Trush Patel</div>
                                    <div class="admin-status">
                                        <div class="status-text">Last seen: Just now</div>
                                    </div>
                                </div>
                                <div class="messages-header-right">
                                </div>
                            </div>
                            
                            <div class="messages-content">
                                <div class="time-stamp" id="messages-timestamp"></div>
                                <div class="welcome-message">
                                    👋 Hi! Feel free to send me a message. I typically respond within 24 hours.
                                </div>
                                <!-- Chat messages will appear here -->
                            </div>
                            
                            <div class="messages-input-area">
                                <div class="messages-input-field">
                                    <div class="attachment-btn">
                                        <i class="fas fa-paperclip"></i>
                                    </div>
                                    <input type="text" class="messages-input" placeholder="Message">
                                    <div class="messages-send-btn">
                                        <i class="fas fa-arrow-up"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <!-- 2048 Game App Screen -->
                    <div class="app-screen" id="game2048-app">
                        <div class="app-header">
                            <div class="back-button" id="back-button"><i class="fas fa-chevron-left"></i></div>
                            <div class="app-title">2048</div>
                        </div>
                        <div class="app-content">
                            <!-- Leaderboard -->
                            <div class="leaderboard-container">
                                <div class="leaderboard-title">Leaderboard</div>
                                <ul class="leaderboard-list" id="leaderboard-list">
                                    <!-- Leaderboard items will be added here dynamically -->
                                </ul>
                            </div>

                            <div class="game-container">
                                <div class="game-header">
                                    <div class="score-container">
                                        <div class="score-box">
                                            <span class="score-label">SCORE</span>
                                            <span class="score" id="score">0</span>
                                        </div>
                                        <div class="score-box">
                                            <span class="score-label">BEST</span>
                                            <span class="score" id="best-score">0</span>
                                        </div>
                                    </div>
                                    <div class="new-game-button" id="new-game-button">New Game</div>
                                </div>
                                <div class="game-message" id="game-message">
                                    <p></p>
                                    <div class="lower">
                                        <a class="retry-button" id="retry-button">Try again</a>
                                    </div>
                                </div>
                                <div class="grid-container">
                                    <div class="grid-row">
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                    </div>
                                    <div class="grid-row">
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                    </div>
                                    <div class="grid-row">
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                    </div>
                                    <div class="grid-row">
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                        <div class="grid-cell"></div>
                                    </div>
                                </div>

                                <!-- Touch Controls -->
                                <div class="touch-controls">
                                    <div class="touch-button touch-up" id="touch-up">
                                        <i class="fas fa-chevron-up"></i>
                                    </div>
                                    <div class="touch-button touch-left" id="touch-left">
                                        <i class="fas fa-chevron-left"></i>
                                    </div>
                                    <div class="touch-button touch-right" id="touch-right">
                                        <i class="fas fa-chevron-right"></i>
                                    </div>
                                    <div class="touch-button touch-down" id="touch-down">
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                </div>
                            </div>

                            <!-- Name Entry Dialog -->
                            <div class="overlay" id="overlay"></div>
                            <div class="name-entry-dialog" id="name-entry-dialog">
                                <div class="name-entry-title">New High Score!</div>
                                <input type="text" class="name-entry-input" id="name-entry-input" placeholder="Enter your name" maxlength="20">
                                <div class="name-entry-buttons">
                                    <button class="name-entry-submit" id="name-entry-submit">Submit</button>
                                </div>
                            </div>
                        </div>
                        <!-- Home indicator bar -->
                        <div class="app-home-indicator" style="position: absolute; bottom: 8px; left: 50%; transform: translateX(-50%); width: 110px; height: 5px; background-color: #000000; border-radius: 100px; z-index: 9999999; opacity: 0.5; cursor: pointer; transition: opacity 0.3s ease, transform 0.2s ease;" 
                        onmouseover="this.style.opacity='0.8'; bounce(this);" 
                        onmouseout="this.style.opacity='0.5'; this.style.transform='translateX(-50%)'" 
                        onclick="goToHomeScreen()"></div>
                    </div>
                    
                    <div class="home-button"></div>
                </div>
                <div class="home-indicator"></div>
            </div>
        </div>
        
        <!-- Content outside iPhone -->
        <div class="content-outside">
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="script.js"></script>
    <script>
    function testEmailJS() {
        console.log('Sending email...');
        try {
            // Determine which app is active (mail app or contact app)
            const isMailApp = document.querySelector('#mail-app.active') !== null;
            console.log('Is mail app active:', isMailApp);

            // Get email send count from localStorage
            let emailSendCount = parseInt(localStorage.getItem('emailSendCount') || '0');
            
            // Check if user has reached the send limit (2 emails)
            if (emailSendCount >= 2) {
                alert('You have reached the limit of 2 emails. Please try again later.');
                return;
            }
            
            // Get input values based on which app is active
            let fromInput, subjectInput, bodyInput, mailContent, mailCompose, button;
            
            if (isMailApp) {
                // Use mail app elements
                fromInput = document.getElementById('mail-from');
                subjectInput = document.getElementById('mail-subject');
                bodyInput = document.getElementById('mail-body');
                mailContent = document.querySelector('#mail-app .mail-content');
                mailCompose = document.querySelector('#mail-app .mail-compose');
                button = document.getElementById('test-emailjs-btn');
            } else {
                // Use contact app elements
                fromInput = document.getElementById('contact-mail-from');
                subjectInput = document.getElementById('contact-mail-subject');
                bodyInput = document.getElementById('contact-mail-body');
                mailContent = document.querySelector('#contact-app .app-content');
                mailCompose = document.querySelector('#contact-app .contact-form');
                button = document.getElementById('contact-test-emailjs-btn');
            }
            
            const from = fromInput.value.trim();
            const subject = subjectInput.value.trim();
            const body = bodyInput.value.trim();
            
            console.log('Form values:', { from, subject, body });
            
            // Validate from field is not empty
            if (!from) {
                alert('Please enter your email address.');
                return;
            }
            
            // Email validation with regex
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailRegex.test(from)) {
                alert('Please enter a valid email address.');
                return;
            }
            
            // Send the actual email
            const testParams = {
                to_name: 'Trush Patel',
                to_email: 'trushp097@gmail.com',
                from_name: from,
                from_email: from,
                subject: subject,
                message: body
            };
            
            // Show loading state
            const originalText = button.textContent;
            button.textContent = 'Sending...';
            button.disabled = true;
            
            emailjs.send('service_xtwz8cj', 'template_ufl6l47', testParams)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    
                    // Increment and save the email count
                    emailSendCount++;
                    localStorage.setItem('emailSendCount', emailSendCount.toString());
                    
                    // Clear draft
                    localStorage.removeItem('mailAppDraft');
                    
                    // Show success feedback
                    const successFeedback = document.createElement('div');
                    successFeedback.className = 'mail-success-feedback';
                    successFeedback.innerHTML = `
                        <div class="mail-close-button">
                            <i class="fas fa-times"></i>
                        </div>
                        <div class="mail-success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3>Email Sent</h3>
                        <p>Your message has been sent successfully</p>
                        <div class="mail-success-details">
                            <p><strong>From:</strong> ${from}</p>
                            <p><strong>To:</strong> trushp097@gmail.com</p>
                            <p><strong>Subject:</strong> ${subject || '(No subject)'}</p>
                        </div>
                        <p class="mail-limit-info">You have sent ${emailSendCount} of 2 allowed emails.</p>
                    `;
                    
                    // Replace mail compose with success message
                    mailCompose.style.display = 'none';
                    mailContent.appendChild(successFeedback);
                    
                    // Add click event listener to close button
                    const closeButton = successFeedback.querySelector('.mail-close-button');
                    closeButton.addEventListener('click', () => {
                        // Reset form fields
                        fromInput.value = '';
                        subjectInput.value = '';
                        bodyInput.value = '';
                        
                        // Remove success message and restore compose form
                        mailContent.removeChild(successFeedback);
                        mailCompose.style.display = 'flex';
                        
                        // Reset button
                        button.textContent = originalText;
                        button.disabled = false;
                    });
                    
                    // Reset button state (but don't remove popup)
                    button.textContent = originalText;
                    button.disabled = false;
                })
                .catch(function(error) {
                    console.error('FAILED!', error);
                    
                    // Show error message
                    const errorFeedback = document.createElement('div');
                    errorFeedback.className = 'mail-error-feedback';
                    errorFeedback.innerHTML = `
                        <div class="mail-close-button">
                            <i class="fas fa-times"></i>
                        </div>
                        <div class="mail-error-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <h3>Sending Failed</h3>
                        <p>There was a problem sending your message</p>
                        <div class="mail-error-details">
                            <p><strong>From:</strong> ${from}</p>
                            <p><strong>To:</strong> trushp097@gmail.com</p>
                            <p class="mail-error-note">Please check your internet connection and try again.</p>
                        </div>
                        <button class="mail-try-again-btn">Try Again</button>
                    `;
                    
                    // Replace mail compose with error message
                    mailCompose.style.display = 'none';
                    mailContent.appendChild(errorFeedback);
                    
                    // Add click event listeners
                    const tryAgainBtn = errorFeedback.querySelector('.mail-try-again-btn');
                    tryAgainBtn.addEventListener('click', () => {
                        mailContent.removeChild(errorFeedback);
                        mailCompose.style.display = 'flex';
                        button.textContent = originalText;
                        button.disabled = false;
                    });
                    
                    const closeButton = errorFeedback.querySelector('.mail-close-button');
                    closeButton.addEventListener('click', () => {
                        mailContent.removeChild(errorFeedback);
                        mailCompose.style.display = 'flex';
                        button.textContent = originalText;
                        button.disabled = false;
                    });
                });
        } catch (e) {
            console.error('Error in send function:', e);
            alert('Error sending email: ' + e.message);
        }
    }

    // Remove duplicate openPDFPopup function and event listeners
    function openPDFPopup() {
        document.getElementById('pdf-popup').style.display = 'flex';
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Initialize PDF popup functionality
        const pdfPopup = document.getElementById('pdf-popup');
        const closeButton = document.querySelector('.pdf-popup-close');
        const pdfContent = document.querySelector('.pdf-popup-content');

        if (closeButton) {
            closeButton.addEventListener('click', function() {
                if (pdfPopup) {
                    pdfPopup.style.display = 'none';
                }
            });
        }

        if (pdfPopup) {
            pdfPopup.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                }
            });
        }

        if (pdfContent) {
            pdfContent.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }

        // Add keyboard support for closing with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && pdfPopup && pdfPopup.style.display === 'flex') {
                pdfPopup.style.display = 'none';
            }
        });

        // Make openPDFPopup available globally
        window.openPDFPopup = openPDFPopup;
    });
    </script>
    
    <!-- PDF Viewer Popup (outside iPhone) -->
    <div id="pdf-popup" class="pdf-popup" style="display: none;">
        <div class="pdf-popup-content">
            <div class="pdf-popup-header">
                <h3 class="pdf-popup-title">2021 Temple University Symposium</h3>
                <button class="pdf-popup-close" aria-label="Close preview" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="pdf-viewer">
                <embed src="https://undergradstudies.temple.edu/sites/undergradstudies/files/2021%20Symposium%20Program.pdf" type="application/pdf">
            </div>
        </div>
    </div>
</body>
</html> 